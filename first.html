<!DOCTYPE html>
<html>

<link type="text/css" rel="stylesheet" href="first.css">
</link>

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="handleCard.js"></script>
    <script>
        function openNav() {
            document.getElementById('mysidenav').style.width = '250px';
        }

        function closeNav() {
            document.getElementById('mysidenav').style.width = '0';
        }

        function submit() {
            var inLine = document.getElementById("input").value;
            alert(inLine);
        }
    </script>

</head>



<body>
    <div>
        <div>
            <span class="openmenu" onclick='openNav()'><i class="fa fa-angle-double-left fa-5" aria-hidden="true"></i>
                MENU</span>
        </div>
        <div>
            <center>
                <h1>
                    ONLINE CARD GAME
                </h1>
            </center>
        </div>
        <div id="mysidenav" class="sidenav">
            <a href="#" class="closebtn" onclick='closeNav()'>x</a>
            <a href="#">About</a>
            <a href="#">Services</a>
            <a href="#">Clients</a>
            <a href="#">Contact</a>
            <a href="#">Portfolio</a>
        </div>
    </div>

    <script>
        var player1 = new Array();
        var player2 = new Array();
        var player3 = new Array();
        var player4 = new Array();

        function getCard(id, card) {
            if (id == "player1") {
                player1.push(card);
            } else if (id == "player2") {
                player1.push(card);
            } else if (id == "player3") {
                player1.push(card);
            } else if (id == "player4") {
                player1.push(card);
            } else {
                alert("wrong put");
            }

        }

        function getName(num) {
            var alpha;
            var number;
            var res;

            alpha = num % 4;
            number = parseInt(num / 4) + 1;

            if (alpha == 0) {
                return (number + "C");
            }
            if (alpha == 1) {
                return (number + "D");
            }
            if (alpha == 2) {
                return (number + "H");
            }
            if (alpha == 3) {
                return (number + "S");
            }
        }

        function newCard(id) {
            num = parseInt(Math.random(0, 52) * 100 % 52);
            name = getName(num);
            alert("Card is " + name);
            alert(id);
            getCard(id, name);

        }

        $(function() {
            var cur_depth = 0;
            $(".draggable").draggable({
                helper: "clone",
                appendTo: "body",
                stack: ".draggable",
                revert: "invalid",


                drag: function(event, ui) {
                    $(this)
                        .addClass("ui-state-highlight", "Card");
                },

            });

            $(".droppable").droppable({
                drop: function(event, ui) {
                    $(this)
                        .addClass("ui-state-highlight")
                        .find("img");
                    var newClone = $(ui.helper).clone();
                    $(this).after(newClone);
                    alert("dropped!");
                    var id_by_class = $(this).attr('id');
                    newCard(id_by_class);

                }
            });
        });
    </script>

    <article>
        <div id="left"></div>
        <div id="middle">
            <div class="container">
                <div class="flex">
                    <div class="player1">
                        <p class="cardholder">
                            <img src='files/cards/red_back.png' id='player1' class="droppable" class="ui-widget-header" style="width: 90px;">
                        </p>
                        <p class="pdescript">player1</p>
                    </div>
                    <div class="player1">

                        <p class="playerholder">
                            <img src='' id='player1' class="droppable" class="ui-widget-header" style="width: 90px;">
                        </p>
                    </div>

                    <div class="player2">
                        <p class="cardholder">
                            <img src='files/cards/red_back.png' id='player2' class="droppable" class="ui-widget-header" style="width: 90px;">
                            <p class="pdescript">player2</p>
                        </p>
                    </div>
                    <div class="player2">
                        <p class="playerholder">
                            <img src='' id='player2' class="droppable" class="ui-widget-header" style="width: 90px;">
                        </p>
                    </div>
                </div>
                <div>
                    <p class="deckholder">
                        <img src='files/cards/red_back.png' class="draggable" class="ui-widget-content" style="width: 90px;">
                    </p>
                </div>
                <div class="flex">
                    <div class="player3">
                        <p class="cardholder">
                            <img src='files/cards/red_back.png' id='player3' class="droppable" class="ui-widget-header" style="width: 90px;">
                            <p class="pdescript">player3</p>
                        </p>
                    </div>
                    <div class="player3">
                        <p class="playerholder">
                            <img src='' id='player3' class="droppable" class="ui-widget-header" style="width: 90px;">
                        </p>
                    </div>
                    <div class="player4">
                        <p class="cardholder">
                            <img src='files/cards/red_back.png' id='player4' class="droppable" class="ui-widget-header" style="width: 90px;">
                            <p class="pdescript">player4</p>

                        </p>
                    </div>
                    <div class="player4">
                        <p class="playerholder">
                            <img src='' id='player4' class="droppable" class="ui-widget-header" style="width: 90px;">
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div id="right"></div>
    </article>


    <div class="footer" id="footer">All rights reserevd to 손명빈, 2021.04.26</div>

</body>

</html>